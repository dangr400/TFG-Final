{"version":3,"file":"js/474-legacy.fb826b46.js","mappings":"sGAAe,SAASA,IACpB,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SAE3C,OAAIJ,GAAQA,EAAKK,YAEN,CAAE,iBAAkBL,EAAKK,aAEzB,G,+FCJTC,EAAU,aAEVC,EAAAA,W,wEAEJ,WACE,OAAOC,EAAAA,EAAAA,IAAUF,EAAU,YAAc,CAAEG,SAASV,EAAAA,EAAAA,S,8BAGtD,SAAiBW,GACf,OAAOF,EAAAA,EAAAA,UAAaF,EAAU,6BAA+B,CAACG,SAASV,EAAAA,EAAAA,KAAeY,KAAM,CAACD,QAAAA,O,kCAG/F,SAAqBE,GACnB,OAAOJ,EAAAA,EAAAA,IAAUF,EAAU,aAAH,OAAgBM,GAAW,CAACH,SAASV,EAAAA,EAAAA,S,mCAI/D,WACE,OAAOS,EAAAA,EAAAA,IAAUF,EAAU,mBAAqB,CAAEG,SAASV,EAAAA,EAAAA,S,qCAG7D,WACE,OAAOS,EAAAA,EAAAA,IAAUF,EAAU,0BAA4B,CAAEG,SAASV,EAAAA,EAAAA,S,oCAGpE,SAAuBW,GACrB,OAAOF,EAAAA,EAAAA,KAAWF,EAAU,iBAAkBI,EAAS,CAAED,SAASV,EAAAA,EAAAA,S,6BAGpE,SAAgBc,GACd,OAAOL,EAAAA,EAAAA,KAAWF,EAAU,kBAAmBO,EAAU,CAAEJ,SAASV,EAAAA,EAAAA,S,8BAGtE,SAAiBc,GACf,OAAOL,EAAAA,EAAAA,UAAaF,EAAU,mBAAoB,CAAEG,SAASV,EAAAA,EAAAA,KAAeY,KAAM,CAACE,SAAAA,O,6BAIrF,SAAgBC,GACd,OAAON,EAAAA,EAAAA,IAAUF,EAAS,CAAEG,SAASV,EAAAA,EAAAA,KAAeY,KAAMG,M,wBAG5D,WACE,OAAON,EAAAA,EAAAA,IAAUF,EAAU,KAAM,CAAEG,SAASV,EAAAA,EAAAA,S,+BAG9C,WACE,OAAOS,EAAAA,EAAAA,IAAUF,EAAU,MAAO,CAAEG,SAASV,EAAAA,EAAAA,S,2BAG/C,WACE,OAAOS,EAAAA,EAAAA,IAAUF,EAAU,QAAS,CAAEG,SAASV,EAAAA,EAAAA,S,2BAGjD,SAAcgB,GACZ,OAAOP,EAAAA,EAAAA,IAAUF,EAAU,oBAAoBS,EAAS,CAACN,SAASV,EAAAA,EAAAA,W,EArDhEQ,GAyDN,WAAmBA,G,iKC7DZS,MAAM,a,GACDA,MAAM,a,WACR,oB,GAIDA,MAAM,a,uBACTC,EAAAA,EAAAA,GAAwB,UAApB,mBAAe,M,uBAEnBA,EAAAA,EAAAA,GAAuB,cAAf,UAAM,M,uBAIZA,EAAAA,EAAAA,GAAmD,cAA3C,sCAAkC,M,GAIzCD,MAAM,a,uBACTC,EAAAA,EAAAA,GAAyB,UAArB,oBAAgB,M,uBAElBA,EAAAA,EAAAA,GAA4B,cAApB,eAAW,M,uBAInBA,EAAAA,EAAAA,GAA8B,cAAtB,iBAAa,M,uBAIrBA,EAAAA,EAAAA,GAAyC,cAAjC,4BAAwB,M,GAOjCD,MAAM,aAAaE,GAAG,aAAaC,SAAS,KAAKC,KAAK,SAAS,kBAAgB,kBAAkB,cAAY,Q,GAC3GJ,MAAM,eAAeI,KAAK,Y,GACxBJ,MAAM,iB,uBACTC,EAAAA,EAAAA,GAKM,OALDD,MAAM,gBAAc,EACvBC,EAAAA,EAAAA,GAAyE,MAArED,MAAM,cAAcE,GAAG,mBAAkB,4BAC7CD,EAAAA,EAAAA,GAES,UAFDI,KAAK,SAASL,MAAM,QAAQ,eAAa,QAAQ,aAAW,SAApE,EACEC,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,SAH7B,M,GAMKD,MAAM,c,GAEFA,MAAM,c,uBACTC,EAAAA,EAAAA,GAAqE,SAA9DK,IAAI,eAAeN,MAAM,kBAAiB,gBAAY,M,uBAC7DC,EAAAA,EAAAA,GAAI,sB,uBAEJA,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,kCAAkCM,IAAI,iBAAgB,aAEnE,M,uBACAL,EAAAA,EAAAA,GAAI,sB,uBAEJA,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,kCAAkCM,IAAI,iBAAgB,aAEnE,M,GAGGN,MAAM,c,uBACTC,EAAAA,EAAAA,GAAgF,SAAzEK,IAAI,iBAAiBN,MAAM,kBAAiB,yBAAqB,M,uBACxEC,EAAAA,EAAAA,GAAI,sB,uBAGJA,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,mBAAmBM,IAAI,gBAAe,yBAEnD,M,uBACAL,EAAAA,EAAAA,GAAI,sB,uBAGJA,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,kCAAkCM,IAAI,kBAAiB,qBAEpE,M,uBAGFL,EAAAA,EAAAA,GAGM,OAHDD,MAAM,cAAY,EACrBC,EAAAA,EAAAA,GAAoF,UAA5EI,KAAK,SAASL,MAAM,oBAAoB,eAAa,SAAQ,WACrEC,EAAAA,EAAAA,GAAwE,UAAhEI,KAAK,SAASL,MAAM,mBAAkB,uBAFhD,M,SAIyBA,MAAM,c,GAC1BA,MAAM,gB,gHAjFrBO,EAAAA,EAAAA,IAwFM,MAxFN,EAwFM,EAvFJN,EAAAA,EAAAA,GAIS,SAJT,EAIS,EAHPA,EAAAA,EAAAA,GAEK,cADYA,EAAAA,EAAAA,GAAyC,eAAAO,EAAAA,EAAAA,IAA/BC,EAAAA,YAAYC,UAAQ,QAGjDT,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJU,GACAV,EAAAA,EAAAA,GAGI,UAFJW,GAEI,QAFmB,KACvBJ,EAAAA,EAAAA,IAAEC,EAAAA,YAAYpB,YAAYwB,UAAS,OAAS,SAAKL,EAAAA,EAAAA,IAAEC,EAAAA,YAAYpB,YAAYyB,OAAOL,EAAAA,YAAYpB,YAAY0B,OAAM,WAEhHd,EAAAA,EAAAA,GAGI,UAFFe,GAEE,QAFiD,KACnDR,EAAAA,EAAAA,IAAEC,EAAAA,YAAYQ,UAAS,MAAS,UAClC,QAEFhB,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,CAhBJiB,GACAjB,EAAAA,EAAAA,GAGI,UAFFkB,GAEE,QAF0B,KAC5BX,EAAAA,EAAAA,IAAEC,EAAAA,YAAYP,IAAE,MAElBD,EAAAA,EAAAA,GAGI,UAFFmB,GAEE,QAF4B,KAC9BZ,EAAAA,EAAAA,IAAEC,EAAAA,YAAYY,cAAcC,SAAO,MAErCrB,EAAAA,EAAAA,GAGI,UAFFsB,GAEE,QAFuC,KACzCf,EAAAA,EAAAA,IAAEC,EAAAA,YAAYY,cAAcG,mBAAiB,MAE/CvB,EAAAA,EAAAA,GAES,UAFAwB,QAAK,8BAAEC,EAAAA,cAAAA,EAAAA,aAAAA,MAAAA,EAAAA,aAAc1B,MAAM,kBAAkB,cAAY,QAAQ,cAAY,eAAc,gCAIxGC,EAAAA,EAAAA,GAoDM,MApDN,EAoDM,EAnDJA,EAAAA,EAAAA,GAkDM,MAlDN,EAkDM,EAjDJA,EAAAA,EAAAA,GAgDM,MAhDN,EAgDM,CA/CJ0B,GAMA1B,EAAAA,EAAAA,GAwCM,MAxCN,EAwCM,EAvCJ2B,EAAAA,EAAAA,IAsCOC,EAAA,CAtCAC,SAAQrB,EAAAA,uBAAqB,C,kBAClC,iBAaM,EAbNR,EAAAA,EAAAA,GAaM,MAbN,EAaM,CAZJ8B,EACAC,GACAJ,EAAAA,EAAAA,IAAwJK,EAAA,C,WAAxIC,EAAAA,aAAab,cAAcC,Q,qDAA3BY,EAAAA,aAAab,cAAcC,QAAOa,IAAEnC,MAAM,mBAAmBK,KAAK,QAAQ+B,KAAK,cAAclC,GAAG,gBAAgBmC,MAAM,QAAQC,QAAA,IAA9I,uBACAC,EAGAC,GACAZ,EAAAA,EAAAA,IAAgJK,EAAA,C,WAAhIC,EAAAA,aAAab,cAAcC,Q,qDAA3BY,EAAAA,aAAab,cAAcC,QAAOa,IAAEnC,MAAM,mBAAoBK,KAAK,QAAQ+B,KAAK,cAAclC,GAAG,gBAAgBmC,MAAM,QAAvI,uBACAI,GAGAb,EAAAA,EAAAA,IAA0Dc,EAAA,CAA5CN,KAAK,cAAcpC,MAAM,sBAEzCC,EAAAA,EAAAA,GAeM,MAfN,EAeM,CAdJ0C,EACAC,GAEAhB,EAAAA,EAAAA,IAAoKK,EAAA,C,WAApJC,EAAAA,aAAab,cAAcG,kB,qDAA3BU,EAAAA,aAAab,cAAcG,kBAAiBW,IAAEnC,MAAM,mBAAmBK,KAAK,QAAQ+B,KAAK,eAAelC,GAAG,iBAAiBmC,MAAM,QAAQC,QAAA,IAA1J,uBACAO,EAGAC,GAEAlB,EAAAA,EAAAA,IAA4JK,EAAA,C,WAA5IC,EAAAA,aAAab,cAAcG,kB,qDAA3BU,EAAAA,aAAab,cAAcG,kBAAiBW,IAAEnC,MAAM,mBAAoBK,KAAK,QAAQ+B,KAAK,eAAelC,GAAG,iBAAiBmC,MAAM,QAAnJ,uBACAU,GAGAnB,EAAAA,EAAAA,IAA2Dc,EAAA,CAA7CN,KAAK,eAAepC,MAAM,qBAE1CgD,EAIWd,EAAAA,eAAAA,EAAAA,EAAAA,OAAX3B,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJN,EAAAA,EAAAA,GAAwC,IAAxC,GAAwCO,EAAAA,EAAAA,IAAd0B,EAAAA,UAAQ,OADpC,mB,KAnCF,0B,wBAkDV,GACEE,KAAM,UACNa,WAAY,CACVC,KAAAA,EAAAA,GACAC,MAAAA,EAAAA,GACAC,aAAAA,EAAAA,IAEFC,SAAU,CACRC,YADQ,WAEN,OAAOC,KAAKC,OAAOC,MAAMC,KAAK1E,OAGlC2E,QAAS,CAEPC,sBAFO,WAEiB,WACtBC,QAAQC,IAAIP,KAAKQ,cACjBxE,EAAAA,EAAAA,cAA0BgE,KAAKQ,cAC5BC,MAAK,SAAAC,GACAA,EAASC,OAAS,KACpB,EAAKC,SAAW,eAChB,EAAKC,QAAQC,GAAG,aAEPJ,EAASC,QAAU,MAC5B,EAAKC,SAAW,KAChB,EAAKG,cAAe,MAIvBC,OAAM,SAAAC,GACL,EAAKL,SAAW,8BAAgCK,EAChD,EAAKF,cAAe,KAEtBG,WAAWlB,KAAKmB,cAAc,MAGlCA,cAvBO,WAwBLnB,KAAKY,SAAW,KAChBZ,KAAKe,cAAe,IAIxB3E,KAzCa,WA0CX,MAAO,CACL2E,cAAc,EACdH,SAAU,KACVQ,OAAQ,GACRC,eAAgB,KAChBC,cAAe,EACfjF,OAAQ,GACRkF,YAAa,GACbC,eAAe,EACfC,WAAW,EACXjB,aAAc,CACZ7D,GAAIqD,KAAKC,OAAOC,MAAMC,KAAK1E,KAAKkB,GAChCmB,cAAe,CACbC,SAAS,EACTE,mBAAmB,MAM3ByD,QA9Da,WA+DN1B,KAAKD,aACRC,KAAKa,QAAQc,KAAK,Y,UCzJxB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://front/./src/services/auth-header.js","webpack://front/./src/services/user.service.js","webpack://front/./src/views/Profile.vue","webpack://front/./src/views/Profile.vue?24e8"],"sourcesContent":["export default function authHeader() {\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n  \r\n    if (user && user.accessToken) {\r\n        // para Node.js Express back-end\r\n        return { 'x-access-token': user.accessToken };\r\n      } else {\r\n        return {};\r\n      }\r\n    }","import axios from \"../http-common\";\r\nimport authHeader from './auth-header';\r\n\r\nconst API_URL = '/usuarios/';\r\n\r\nclass UserService {\r\n  // GESTIONES CONTACTOS\r\n  getContactos() {\r\n    return axios.get(API_URL + 'contactos' , { headers: authHeader() });\r\n  }\r\n\r\n  eliminarContacto(usuario) {\r\n    return axios.delete(API_URL + 'contactos/eliminarContacto' , {headers: authHeader() , data: {usuario} });\r\n  }\r\n\r\n  getContactoPorNombre(nombre) {\r\n    return axios.get(API_URL + `contactos/${nombre}` , {headers: authHeader() });\r\n  }\r\n\r\n  // GESTIONES PETICIONES DE CONTACTO\r\n  getPeticionesEnviadas() {\r\n    return axios.get(API_URL + 'verMisPeticiones' , { headers: authHeader() });\r\n  }\r\n\r\n  getPeticionesPendientes() {\r\n    return axios.get(API_URL + 'verPeticionesPendientes' , { headers: authHeader() });\r\n  }\r\n\r\n  enviarPeticionContacto(usuario) {\r\n    return axios.post(API_URL + 'enviarPeticion', usuario, { headers: authHeader() });\r\n  }\r\n\r\n  aceptarPeticion(peticion) {\r\n    return axios.post(API_URL + 'aceptarPeticion', peticion, { headers: authHeader() });\r\n  }\r\n\r\n  cancelarPeticion(peticion) {\r\n    return axios.delete(API_URL + 'cancelarPeticion', { headers: authHeader() , data: {peticion} });\r\n  }\r\n  // REFERENTES AL USUARIO\r\n\r\n  getUsuarioPorId(idUsuario) {\r\n    return axios.get(API_URL, { headers: authHeader() , data: idUsuario}); \r\n  }\r\n\r\n  getUsuario() {\r\n    return axios.get(API_URL + 'yo', { headers: authHeader() });\r\n  }\r\n\r\n  getModeratorBoard() {\r\n    return axios.get(API_URL + 'mod', { headers: authHeader() });\r\n  }\r\n\r\n  getAdminBoard() {\r\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\r\n  }\r\n\r\n  updateUsuario(config) {\r\n    return axios.put(API_URL + 'actualizarUsuario',config , {headers: authHeader()});\r\n  }\r\n}\r\n\r\nexport default new UserService();","<template>\n  <div class=\"container\">\n    <header class=\"jumbotron\">\n      <h3>\n        Informaci贸n de <strong>{{currentUser.username}}</strong> \n      </h3>\n    </header>\n    <div class=\"jumbotron\">\n      <h3>Datos da sesi贸n</h3>\n      <p>\n      <strong>Token:</strong>\n      {{currentUser.accessToken.substring(0, 20)}} ... {{currentUser.accessToken.substr(currentUser.accessToken.length - 20)}}\n      </p>\n      <p>\n        <strong>Tempo de validez da sesi贸n actual:</strong>\n        {{currentUser.caducidad / 3600}} horas\n      </p>\n    </div>\n    <div class=\"jumbotron\">\n      <h3>Datos do usuario</h3>\n      <p>\n        <strong>ID Usuario:</strong>\n        {{currentUser.id}}\n      </p>\n      <p>\n        <strong>Visibilidade:</strong>\n        {{currentUser.configuracion.publico}}\n      </p>\n      <p>\n        <strong>Persistenza de mensaxes:</strong>\n        {{currentUser.configuracion.persistencia_msgs}}\n      </p>\n      <button @click=\"activarModal\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#modUsuario\">\n            Modificar configuraci贸n\n      </button>\n    </div>\n  <div class=\"modal fade\" id=\"modUsuario\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modUsuarioLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"modUsuarioLabel\">Modificar datos usuario</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <Form @submit=\"modificarDatosUsuario\">\n            <div class=\"form-group\">\n              <label for=\"message-text\" class=\"col-form-label\">Visibilidad:</label>\n              <br>\n              <Field v-model=\"datosUsuario.configuracion.publico\" class=\"form-check-input\" type=\"radio\" name=\"visibilidad\" id=\"visibilidadNo\" value=\"false\" checked />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidadNo\">\n                Privado\n              </label>\n              <br>\n              <Field v-model=\"datosUsuario.configuracion.publico\" class=\"form-check-input \" type=\"radio\" name=\"visibilidad\" id=\"visibilidadSi\" value=\"true\" />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidadSi\">\n                Publico\n              </label>\n              <ErrorMessage name=\"visibilidad\" class=\"error-feedback\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"visibilidad2No\" class=\"col-form-label\">Persistenza Mensaxes:</label>\n              <br>\n\n              <Field v-model=\"datosUsuario.configuracion.persistencia_msgs\" class=\"form-check-input\" type=\"radio\" name=\"visibilidad2\" id=\"visibilidad2No\" value=\"false\" checked />\n              <label class=\"form-radio-label\" for=\"visibilidad2\">\n                NON gardar mensaxes\n              </label>\n              <br>\n\n              <Field v-model=\"datosUsuario.configuracion.persistencia_msgs\" class=\"form-check-input \" type=\"radio\" name=\"visibilidad2\" id=\"visibilidad2Si\" value=\"true\" />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidad2Si\">\n                Gardar mensaxes\n              </label>\n              <ErrorMessage name=\"visibilidad2\" class=\"error-feedback\" />\n            </div>\n            <div class=\"form-group\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n              <button type=\"submit\" class=\"btn btn-success\">Modificar Usuario</button>\n            </div>\n            <div v-if=\"mostrarError\" class=\"form-group\">\n              <p class=\"alert-danger\">{{msgAviso}}</p>\n            </div>\n          </Form>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport UserService from \"../services/user.service\";\n\nexport default {\n  name: 'Profile',\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  methods: {\n\n    modificarDatosUsuario() {\n      console.log(this.datosUsuario);\n      UserService.updateUsuario(this.datosUsuario)\n        .then(response =>{\n          if (response.status < 400) {\n            this.msgAviso = \"Grupo Creado\";\n            this.$router.go('/profile');\n\n          } else if (response.status >= 400){\n            this.msgAviso = \"Ok\";\n            this.mostrarError = true;\n          }\n          \n        })\n        .catch(e => {\n          this.msgAviso = \"Algo foi mal no servidor...\" + e;\n          this.mostrarError = true;\n        });\n        setTimeout(this.ocultaMensaxe,3000);\n    },\n\n    ocultaMensaxe() {\n      this.msgAviso = null;\n      this.mostrarError = false;\n    },\n  },\n\n  data() {\n    return {\n      mostrarError: false,\n      msgAviso: null,\n      grupos: [],\n      currentUsuario: null,\n      currentIndex: -1,\n      nombre: \"\",\n      integrantes: [],\n      tienePermisos: false,\n      esCreador: false,\n      datosUsuario: {\n        id: this.$store.state.auth.user.id,\n        configuracion: {\n          publico: false,\n          persistencia_msgs: false\n        },\n      },\n    };\n  },\n\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n  }\n};\n</script>\n<style scoped>\n  .btn {\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=74624b45&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=74624b45&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dani_\\\\Desktop\\\\TFG-220722\\\\Proxecto\\\\Software\\\\V1.0.1\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74624b45\"]])\n\nexport default __exports__"],"names":["authHeader","user","JSON","parse","localStorage","getItem","accessToken","API_URL","UserService","axios","headers","usuario","data","nombre","peticion","idUsuario","config","class","_createElementVNode","id","tabindex","role","type","for","_createElementBlock","_toDisplayString","$options","username","_hoisted_5","_hoisted_6","substring","substr","length","_hoisted_7","caducidad","_hoisted_9","_hoisted_10","_hoisted_11","configuracion","publico","_hoisted_12","persistencia_msgs","onClick","_ctx","_hoisted_16","_createVNode","_component_Form","onSubmit","_hoisted_19","_hoisted_20","_component_Field","$data","$event","name","value","checked","_hoisted_21","_hoisted_22","_hoisted_23","_component_ErrorMessage","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","components","Form","Field","ErrorMessage","computed","currentUser","this","$store","state","auth","methods","modificarDatosUsuario","console","log","datosUsuario","then","response","status","msgAviso","$router","go","mostrarError","catch","e","setTimeout","ocultaMensaxe","grupos","currentUsuario","currentIndex","integrantes","tienePermisos","esCreador","mounted","push","__exports__","render"],"sourceRoot":""}