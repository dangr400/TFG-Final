"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[474],{8:function(e,r,n){function a(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}n.d(r,{Z:function(){return a}})},7270:function(e,r,n){var a=n(3087),o=n(2833),i=n(3390),t=n(8),s="/usuarios/",u=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"getContactos",value:function(){return i.Z.get(s+"contactos",{headers:(0,t.Z)()})}},{key:"eliminarContacto",value:function(e){return i.Z["delete"](s+"contactos/eliminarContacto",{headers:(0,t.Z)(),data:{usuario:e}})}},{key:"getContactoPorNombre",value:function(e){return i.Z.get(s+"contactos/".concat(e),{headers:(0,t.Z)()})}},{key:"getPeticionesEnviadas",value:function(){return i.Z.get(s+"verMisPeticiones",{headers:(0,t.Z)()})}},{key:"getPeticionesPendientes",value:function(){return i.Z.get(s+"verPeticionesPendientes",{headers:(0,t.Z)()})}},{key:"enviarPeticionContacto",value:function(e){return i.Z.post(s+"enviarPeticion",e,{headers:(0,t.Z)()})}},{key:"aceptarPeticion",value:function(e){return i.Z.post(s+"aceptarPeticion",e,{headers:(0,t.Z)()})}},{key:"cancelarPeticion",value:function(e){return i.Z["delete"](s+"cancelarPeticion",{headers:(0,t.Z)(),data:{peticion:e}})}},{key:"getUsuarioPorId",value:function(e){return i.Z.get(s,{headers:(0,t.Z)(),data:e})}},{key:"getUsuario",value:function(){return i.Z.get(s+"yo",{headers:(0,t.Z)()})}},{key:"getModeratorBoard",value:function(){return i.Z.get(s+"mod",{headers:(0,t.Z)()})}},{key:"getAdminBoard",value:function(){return i.Z.get(s+"admin",{headers:(0,t.Z)()})}},{key:"updateUsuario",value:function(e){return i.Z.put(s+"actualizarUsuario",e,{headers:(0,t.Z)()})}}]),e}();r["Z"]=new u},3474:function(e,r,n){n.r(r),n.d(r,{default:function(){return G}});var a=n(6252),o=n(3577),i=function(e){return(0,a.dD)("data-v-74624b45"),e=e(),(0,a.Cn)(),e},t={class:"container"},s={class:"jumbotron"},u=(0,a.Uk)(" Información de "),l={class:"jumbotron"},c=i((function(){return(0,a._)("h3",null,"Datos da sesión",-1)})),d=i((function(){return(0,a._)("strong",null,"Token:",-1)})),f=i((function(){return(0,a._)("strong",null,"Tempo de validez da sesión actual:",-1)})),m={class:"jumbotron"},b=i((function(){return(0,a._)("h3",null,"Datos do usuario",-1)})),g=i((function(){return(0,a._)("strong",null,"ID Usuario:",-1)})),v=i((function(){return(0,a._)("strong",null,"Visibilidade:",-1)})),p=i((function(){return(0,a._)("strong",null,"Persistenza de mensaxes:",-1)})),h={class:"modal fade",id:"modUsuario",tabindex:"-1",role:"dialog","aria-labelledby":"modUsuarioLabel","aria-hidden":"true"},_={class:"modal-dialog",role:"document"},k={class:"modal-content"},U=i((function(){return(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"modUsuarioLabel"},"Modificar datos usuario"),(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")])],-1)})),Z={class:"modal-body"},y={class:"form-group"},P=i((function(){return(0,a._)("label",{for:"message-text",class:"col-form-label"},"Visibilidad:",-1)})),w=i((function(){return(0,a._)("br",null,null,-1)})),V=i((function(){return(0,a._)("label",{class:"form-check-label col-form-label",for:"visibilidadNo"}," Privado ",-1)})),C=i((function(){return(0,a._)("br",null,null,-1)})),z=i((function(){return(0,a._)("label",{class:"form-check-label col-form-label",for:"visibilidadSi"}," Publico ",-1)})),M={class:"form-group"},x=i((function(){return(0,a._)("label",{for:"visibilidad2No",class:"col-form-label"},"Persistenza Mensaxes:",-1)})),N=i((function(){return(0,a._)("br",null,null,-1)})),A=i((function(){return(0,a._)("label",{class:"form-radio-label",for:"visibilidad2"}," NON gardar mensaxes ",-1)})),D=i((function(){return(0,a._)("br",null,null,-1)})),E=i((function(){return(0,a._)("label",{class:"form-check-label col-form-label",for:"visibilidad2Si"}," Gardar mensaxes ",-1)})),S=i((function(){return(0,a._)("div",{class:"form-group"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),(0,a._)("button",{type:"submit",class:"btn btn-success"},"Modificar Usuario")],-1)})),T={key:0,class:"form-group"},W={class:"alert-danger"};function I(e,r,n,i,I,F){var $=(0,a.up)("Field"),j=(0,a.up)("ErrorMessage"),B=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)("div",t,[(0,a._)("header",s,[(0,a._)("h3",null,[u,(0,a._)("strong",null,(0,o.zw)(F.currentUser.username),1)])]),(0,a._)("div",l,[c,(0,a._)("p",null,[d,(0,a.Uk)(" "+(0,o.zw)(F.currentUser.accessToken.substring(0,20))+" ... "+(0,o.zw)(F.currentUser.accessToken.substr(F.currentUser.accessToken.length-20)),1)]),(0,a._)("p",null,[f,(0,a.Uk)(" "+(0,o.zw)(F.currentUser.caducidad/3600)+" horas ",1)])]),(0,a._)("div",m,[b,(0,a._)("p",null,[g,(0,a.Uk)(" "+(0,o.zw)(F.currentUser.id),1)]),(0,a._)("p",null,[v,(0,a.Uk)(" "+(0,o.zw)(F.currentUser.configuracion.publico),1)]),(0,a._)("p",null,[p,(0,a.Uk)(" "+(0,o.zw)(F.currentUser.configuracion.persistencia_msgs),1)]),(0,a._)("button",{onClick:r[0]||(r[0]=function(){return e.activarModal&&e.activarModal.apply(e,arguments)}),class:"btn btn-success","data-toggle":"modal","data-target":"#modUsuario"}," Modificar configuración ")]),(0,a._)("div",h,[(0,a._)("div",_,[(0,a._)("div",k,[U,(0,a._)("div",Z,[(0,a.Wm)(B,{onSubmit:F.modificarDatosUsuario},{default:(0,a.w5)((function(){return[(0,a._)("div",y,[P,w,(0,a.Wm)($,{modelValue:I.datosUsuario.configuracion.publico,"onUpdate:modelValue":r[1]||(r[1]=function(e){return I.datosUsuario.configuracion.publico=e}),class:"form-check-input",type:"radio",name:"visibilidad",id:"visibilidadNo",value:"false",checked:""},null,8,["modelValue"]),V,C,(0,a.Wm)($,{modelValue:I.datosUsuario.configuracion.publico,"onUpdate:modelValue":r[2]||(r[2]=function(e){return I.datosUsuario.configuracion.publico=e}),class:"form-check-input",type:"radio",name:"visibilidad",id:"visibilidadSi",value:"true"},null,8,["modelValue"]),z,(0,a.Wm)(j,{name:"visibilidad",class:"error-feedback"})]),(0,a._)("div",M,[x,N,(0,a.Wm)($,{modelValue:I.datosUsuario.configuracion.persistencia_msgs,"onUpdate:modelValue":r[3]||(r[3]=function(e){return I.datosUsuario.configuracion.persistencia_msgs=e}),class:"form-check-input",type:"radio",name:"visibilidad2",id:"visibilidad2No",value:"false",checked:""},null,8,["modelValue"]),A,D,(0,a.Wm)($,{modelValue:I.datosUsuario.configuracion.persistencia_msgs,"onUpdate:modelValue":r[4]||(r[4]=function(e){return I.datosUsuario.configuracion.persistencia_msgs=e}),class:"form-check-input",type:"radio",name:"visibilidad2",id:"visibilidad2Si",value:"true"},null,8,["modelValue"]),E,(0,a.Wm)(j,{name:"visibilidad2",class:"error-feedback"})]),S,I.mostrarError?((0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("p",W,(0,o.zw)(I.msgAviso),1)])):(0,a.kq)("",!0)]})),_:1},8,["onSubmit"])])])])])])}var F=n(2954),$=n(7270),j={name:"Profile",components:{Form:F.l0,Field:F.gN,ErrorMessage:F.Bc},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{modificarDatosUsuario:function(){var e=this;console.log(this.datosUsuario),$.Z.updateUsuario(this.datosUsuario).then((function(r){r.status<400?(e.msgAviso="Grupo Creado",e.$router.go("/profile")):r.status>=400&&(e.msgAviso="Ok",e.mostrarError=!0)})).catch((function(r){e.msgAviso="Algo foi mal no servidor..."+r,e.mostrarError=!0})),setTimeout(this.ocultaMensaxe,3e3)},ocultaMensaxe:function(){this.msgAviso=null,this.mostrarError=!1}},data:function(){return{mostrarError:!1,msgAviso:null,grupos:[],currentUsuario:null,currentIndex:-1,nombre:"",integrantes:[],tienePermisos:!1,esCreador:!1,datosUsuario:{id:this.$store.state.auth.user.id,configuracion:{publico:!1,persistencia_msgs:!1}}}},mounted:function(){this.currentUser||this.$router.push("/login")}},B=n(3744);const O=(0,B.Z)(j,[["render",I],["__scopeId","data-v-74624b45"]]);var G=O}}]);
//# sourceMappingURL=474-legacy.fb826b46.js.map