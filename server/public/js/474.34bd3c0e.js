"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[474],{8:function(e,a,s){function r(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}s.d(a,{Z:function(){return r}})},7270:function(e,a,s){var r=s(3390),o=s(8);const i="/usuarios/";class t{getContactos(){return r.Z.get(i+"contactos",{headers:(0,o.Z)()})}eliminarContacto(e){return r.Z["delete"](i+"contactos/eliminarContacto",{headers:(0,o.Z)(),data:{usuario:e}})}getContactoPorNombre(e){return r.Z.get(i+`contactos/${e}`,{headers:(0,o.Z)()})}getPeticionesEnviadas(){return r.Z.get(i+"verMisPeticiones",{headers:(0,o.Z)()})}getPeticionesPendientes(){return r.Z.get(i+"verPeticionesPendientes",{headers:(0,o.Z)()})}enviarPeticionContacto(e){return r.Z.post(i+"enviarPeticion",e,{headers:(0,o.Z)()})}aceptarPeticion(e){return r.Z.post(i+"aceptarPeticion",e,{headers:(0,o.Z)()})}cancelarPeticion(e){return r.Z["delete"](i+"cancelarPeticion",{headers:(0,o.Z)(),data:{peticion:e}})}getUsuarioPorId(e){return r.Z.get(i,{headers:(0,o.Z)(),data:e})}getUsuario(){return r.Z.get(i+"yo",{headers:(0,o.Z)()})}getModeratorBoard(){return r.Z.get(i+"mod",{headers:(0,o.Z)()})}getAdminBoard(){return r.Z.get(i+"admin",{headers:(0,o.Z)()})}updateUsuario(e){return r.Z.put(i+"actualizarUsuario",e,{headers:(0,o.Z)()})}}a["Z"]=new t},3474:function(e,a,s){s.r(a),s.d(a,{default:function(){return G}});var r=s(6252),o=s(3577);const i=e=>((0,r.dD)("data-v-74624b45"),e=e(),(0,r.Cn)(),e),t={class:"container"},l={class:"jumbotron"},n=(0,r.Uk)(" Información de "),u={class:"jumbotron"},d=i((()=>(0,r._)("h3",null,"Datos da sesión",-1))),c=i((()=>(0,r._)("strong",null,"Token:",-1))),m=i((()=>(0,r._)("strong",null,"Tempo de validez da sesión actual:",-1))),b={class:"jumbotron"},g=i((()=>(0,r._)("h3",null,"Datos do usuario",-1))),f=i((()=>(0,r._)("strong",null,"ID Usuario:",-1))),p=i((()=>(0,r._)("strong",null,"Visibilidade:",-1))),h=i((()=>(0,r._)("strong",null,"Persistenza de mensaxes:",-1))),v={class:"modal fade",id:"modUsuario",tabindex:"-1",role:"dialog","aria-labelledby":"modUsuarioLabel","aria-hidden":"true"},_={class:"modal-dialog",role:"document"},U={class:"modal-content"},k=i((()=>(0,r._)("div",{class:"modal-header"},[(0,r._)("h5",{class:"modal-title",id:"modUsuarioLabel"},"Modificar datos usuario"),(0,r._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,r._)("span",{"aria-hidden":"true"},"×")])],-1))),Z={class:"modal-body"},P={class:"form-group"},w=i((()=>(0,r._)("label",{for:"message-text",class:"col-form-label"},"Visibilidad:",-1))),V=i((()=>(0,r._)("br",null,null,-1))),C=i((()=>(0,r._)("label",{class:"form-check-label col-form-label",for:"visibilidadNo"}," Privado ",-1))),y=i((()=>(0,r._)("br",null,null,-1))),z=i((()=>(0,r._)("label",{class:"form-check-label col-form-label",for:"visibilidadSi"}," Publico ",-1))),M={class:"form-group"},x=i((()=>(0,r._)("label",{for:"visibilidad2No",class:"col-form-label"},"Persistenza Mensaxes:",-1))),N=i((()=>(0,r._)("br",null,null,-1))),A=i((()=>(0,r._)("label",{class:"form-radio-label",for:"visibilidad2"}," NON gardar mensaxes ",-1))),D=i((()=>(0,r._)("br",null,null,-1))),E=i((()=>(0,r._)("label",{class:"form-check-label col-form-label",for:"visibilidad2Si"}," Gardar mensaxes ",-1))),S=i((()=>(0,r._)("div",{class:"form-group"},[(0,r._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),(0,r._)("button",{type:"submit",class:"btn btn-success"},"Modificar Usuario")],-1))),T={key:0,class:"form-group"},W={class:"alert-danger"};function I(e,a,s,i,I,$){const F=(0,r.up)("Field"),j=(0,r.up)("ErrorMessage"),B=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",t,[(0,r._)("header",l,[(0,r._)("h3",null,[n,(0,r._)("strong",null,(0,o.zw)($.currentUser.username),1)])]),(0,r._)("div",u,[d,(0,r._)("p",null,[c,(0,r.Uk)(" "+(0,o.zw)($.currentUser.accessToken.substring(0,20))+" ... "+(0,o.zw)($.currentUser.accessToken.substr($.currentUser.accessToken.length-20)),1)]),(0,r._)("p",null,[m,(0,r.Uk)(" "+(0,o.zw)($.currentUser.caducidad/3600)+" horas ",1)])]),(0,r._)("div",b,[g,(0,r._)("p",null,[f,(0,r.Uk)(" "+(0,o.zw)($.currentUser.id),1)]),(0,r._)("p",null,[p,(0,r.Uk)(" "+(0,o.zw)($.currentUser.configuracion.publico),1)]),(0,r._)("p",null,[h,(0,r.Uk)(" "+(0,o.zw)($.currentUser.configuracion.persistencia_msgs),1)]),(0,r._)("button",{onClick:a[0]||(a[0]=(...a)=>e.activarModal&&e.activarModal(...a)),class:"btn btn-success","data-toggle":"modal","data-target":"#modUsuario"}," Modificar configuración ")]),(0,r._)("div",v,[(0,r._)("div",_,[(0,r._)("div",U,[k,(0,r._)("div",Z,[(0,r.Wm)(B,{onSubmit:$.modificarDatosUsuario},{default:(0,r.w5)((()=>[(0,r._)("div",P,[w,V,(0,r.Wm)(F,{modelValue:I.datosUsuario.configuracion.publico,"onUpdate:modelValue":a[1]||(a[1]=e=>I.datosUsuario.configuracion.publico=e),class:"form-check-input",type:"radio",name:"visibilidad",id:"visibilidadNo",value:"false",checked:""},null,8,["modelValue"]),C,y,(0,r.Wm)(F,{modelValue:I.datosUsuario.configuracion.publico,"onUpdate:modelValue":a[2]||(a[2]=e=>I.datosUsuario.configuracion.publico=e),class:"form-check-input",type:"radio",name:"visibilidad",id:"visibilidadSi",value:"true"},null,8,["modelValue"]),z,(0,r.Wm)(j,{name:"visibilidad",class:"error-feedback"})]),(0,r._)("div",M,[x,N,(0,r.Wm)(F,{modelValue:I.datosUsuario.configuracion.persistencia_msgs,"onUpdate:modelValue":a[3]||(a[3]=e=>I.datosUsuario.configuracion.persistencia_msgs=e),class:"form-check-input",type:"radio",name:"visibilidad2",id:"visibilidad2No",value:"false",checked:""},null,8,["modelValue"]),A,D,(0,r.Wm)(F,{modelValue:I.datosUsuario.configuracion.persistencia_msgs,"onUpdate:modelValue":a[4]||(a[4]=e=>I.datosUsuario.configuracion.persistencia_msgs=e),class:"form-check-input",type:"radio",name:"visibilidad2",id:"visibilidad2Si",value:"true"},null,8,["modelValue"]),E,(0,r.Wm)(j,{name:"visibilidad2",class:"error-feedback"})]),S,I.mostrarError?((0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("p",W,(0,o.zw)(I.msgAviso),1)])):(0,r.kq)("",!0)])),_:1},8,["onSubmit"])])])])])])}var $=s(2954),F=s(7270),j={name:"Profile",components:{Form:$.l0,Field:$.gN,ErrorMessage:$.Bc},computed:{currentUser(){return this.$store.state.auth.user}},methods:{modificarDatosUsuario(){console.log(this.datosUsuario),F.Z.updateUsuario(this.datosUsuario).then((e=>{e.status<400?(this.msgAviso="Grupo Creado",this.$router.go("/profile")):e.status>=400&&(this.msgAviso="Ok",this.mostrarError=!0)})).catch((e=>{this.msgAviso="Algo foi mal no servidor..."+e,this.mostrarError=!0})),setTimeout(this.ocultaMensaxe,3e3)},ocultaMensaxe(){this.msgAviso=null,this.mostrarError=!1}},data(){return{mostrarError:!1,msgAviso:null,grupos:[],currentUsuario:null,currentIndex:-1,nombre:"",integrantes:[],tienePermisos:!1,esCreador:!1,datosUsuario:{id:this.$store.state.auth.user.id,configuracion:{publico:!1,persistencia_msgs:!1}}}},mounted(){this.currentUser||this.$router.push("/login")}},B=s(3744);const O=(0,B.Z)(j,[["render",I],["__scopeId","data-v-74624b45"]]);var G=O}}]);
//# sourceMappingURL=474.34bd3c0e.js.map