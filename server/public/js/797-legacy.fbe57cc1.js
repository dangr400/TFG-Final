"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[797,643],{4868:function(n,e,o){var t=o(3087),r=o(2833),i=o(3390),a=o(8),s="/api/grupos/",c=function(){function n(){(0,t.Z)(this,n)}return(0,r.Z)(n,[{key:"getPublicContent",value:function(){return i.Z.get(s+"gruposPublicos")}},{key:"getGrupoPorId",value:function(n){return i.Z.get(s+n,{headers:(0,a.Z)()})}},{key:"getGrupos",value:function(){return i.Z.get(s+"gruposPertenecientes",{headers:(0,a.Z)()})}},{key:"permisosGrupo",value:function(n){return i.Z.get(s+"permisosGrupo/"+n,{headers:(0,a.Z)()})}},{key:"nuevoGrupo",value:function(n){return i.Z.post(s+"nuevoGrupo",n,{headers:(0,a.Z)()})}},{key:"añadirModeradores",value:function(n,e){return i.Z.put(s+n+"/addModeradores",e,{headers:(0,a.Z)()})}},{key:"añadirIntegrantes",value:function(n,e){return i.Z.put(s+n+"/addIntegrantes",e,{headers:(0,a.Z)()})}},{key:"borrarGrupo",value:function(n){return i.Z["delete"](s+"borrarGrupo",{headers:(0,a.Z)(),data:n})}}]),n}();e["Z"]=new c},7270:function(n,e,o){var t=o(3087),r=o(2833),i=o(3390),a=o(8),s="/usuarios/",c=function(){function n(){(0,t.Z)(this,n)}return(0,r.Z)(n,[{key:"getContactos",value:function(){return i.Z.get(s+"contactos",{headers:(0,a.Z)()})}},{key:"eliminarContacto",value:function(n){return i.Z["delete"](s+"contactos/eliminarContacto",{headers:(0,a.Z)(),data:{usuario:n}})}},{key:"getContactoPorNombre",value:function(n){return i.Z.get(s+"contactos/".concat(n),{headers:(0,a.Z)()})}},{key:"getPeticionesEnviadas",value:function(){return i.Z.get(s+"verMisPeticiones",{headers:(0,a.Z)()})}},{key:"getPeticionesPendientes",value:function(){return i.Z.get(s+"verPeticionesPendientes",{headers:(0,a.Z)()})}},{key:"enviarPeticionContacto",value:function(n){return i.Z.post(s+"enviarPeticion",n,{headers:(0,a.Z)()})}},{key:"aceptarPeticion",value:function(n){return i.Z.post(s+"aceptarPeticion",n,{headers:(0,a.Z)()})}},{key:"cancelarPeticion",value:function(n){return i.Z["delete"](s+"cancelarPeticion",{headers:(0,a.Z)(),data:{peticion:n}})}},{key:"getUsuarioPorId",value:function(n){return i.Z.get(s,{headers:(0,a.Z)(),data:n})}},{key:"getUsuario",value:function(){return i.Z.get(s+"yo",{headers:(0,a.Z)()})}},{key:"getModeratorBoard",value:function(){return i.Z.get(s+"mod",{headers:(0,a.Z)()})}},{key:"getAdminBoard",value:function(){return i.Z.get(s+"admin",{headers:(0,a.Z)()})}}]),n}();e["Z"]=new c},6939:function(n,e,o){o.r(e),o.d(e,{default:function(){return se}});var t=o(6252),r={class:"container"},i={class:"jumbotron"},a=(0,t._)("h3",null,[(0,t._)("strong",null,"Comunicacións")],-1);function s(n,e,o,s,c,u){var l=(0,t.up)("usuarioslist"),d=(0,t.up)("peticioneslist"),p=(0,t.up)("gruposlist"),m=(0,t.up)("conversacioneslist");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("header",i,[a,(0,t._)("button",{class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=function(){return u.activarContactos&&u.activarContactos.apply(u,arguments)})},"Contactos"),(0,t._)("button",{class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=function(){return u.activarGrupos&&u.activarGrupos.apply(u,arguments)})},"Grupos"),(0,t._)("button",{class:"btn btn-outline-secondary",onClick:e[2]||(e[2]=function(){return u.activarPeticiones&&u.activarPeticiones.apply(u,arguments)})},"Peticións"),(0,t._)("button",{class:"btn btn-outline-secondary",onClick:e[3]||(e[3]=function(){return u.activarConversaciones&&u.activarConversaciones.apply(u,arguments)})},"Acceder Conversas")]),c.mostrarContactos?((0,t.wg)(),(0,t.j4)(l,{key:0})):(0,t.kq)("",!0),c.mostrarPeticiones?((0,t.wg)(),(0,t.j4)(d,{key:1})):(0,t.kq)("",!0),c.mostrarGrupos?((0,t.wg)(),(0,t.j4)(p,{key:2})):(0,t.kq)("",!0),c.mostrarConversaciones?((0,t.wg)(),(0,t.j4)(m,{key:3})):(0,t.kq)("",!0)])}var c=o(9963),u=o(3577),l={class:"col-md-8"},d={class:"input-group mb-3"},p={class:"input-group-append"},m={class:"container"},g=(0,t._)("h3",null,[(0,t._)("strong",null,"Contactos")],-1),h={class:"list-group"},v=["onClick"],f={class:"col-md-6"},b={key:0},_=(0,t._)("h4",null,"Contacto",-1),C=(0,t._)("label",null,[(0,t._)("strong",null,"Nombre:")],-1),k={key:1},y=(0,t._)("br",null,null,-1),G=(0,t._)("p",null,"Seleccione un contacto...",-1),P=[y,G];function Z(n,e,o,r,i,a){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",l,[(0,t._)("div",d,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Buscar contacto por nome","onUpdate:modelValue":e[0]||(e[0]=function(n){return i.username=n})},null,512),[[c.nr,i.username]]),(0,t._)("div",p,[(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(){return a.searchNombre&&a.searchNombre.apply(a,arguments)})}," Buscar ")])])]),(0,t._)("div",m,[g,(0,t._)("ul",h,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.usuarios,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:(0,u.C_)(["list-group-item",{active:e==i.currentIndex}]),key:e,onClick:function(o){return a.setActiveContacto(n,e)}},(0,u.zw)(n.nome_usuario),11,v)})),128))]),(0,t._)("div",f,[i.currentContacto?((0,t.wg)(),(0,t.iD)("div",b,[_,(0,t._)("div",null,[C,(0,t.Uk)(" "+(0,u.zw)(i.currentContacto.nome_usuario),1)]),(0,t._)("button",{class:"badge badge-danger",onClick:e[2]||(e[2]=function(n){return a.eliminarContacto(i.currentContacto)})}," Eliminar Contacto ")])):((0,t.wg)(),(0,t.iD)("div",k,P))])])])}var w=o(7270),D={name:"usuarios-list",data:function(){return{usuarios:[],currentContacto:null,currentIndex:-1,username:""}},methods:{recuperarContactos:function(){var n=this;w.Z.getContactos().then((function(e){n.usuarios=e.data.contactos,console.log(e.data)})).catch((function(n){console.log(n)}))},refreshList:function(){this.recuperarContactos(),this.currentContacto=null,this.currentIndex=-1},setActiveContacto:function(n,e){this.currentContacto=n,this.currentIndex=e},removeAllContactos:function(){var n=this;w.Z.deleteAll().then((function(e){console.log(e.data),n.refreshList()})).catch((function(n){console.log(n)}))},eliminarContacto:function(n){var e=this;w.Z.eliminarContacto(n).then((function(n){console.log(n.data),e.refreshList()})).catch((function(n){console.log(n)}))},searchNombre:function(){var n=this;w.Z.getContactoPorNombre(this.username).then((function(e){n.usuarios=e.data.contactos,console.log(e.data)})).catch((function(n){console.log(n)}))}},mounted:function(){this.recuperarContactos()}},U=o(3744);const I=(0,U.Z)(D,[["render",Z]]);var x=I,E={class:"col-md-8"},N={class:"input-group mb-3"},j={class:"input-group-append"},A={class:"container"},z=(0,t._)("h3",null,[(0,t._)("strong",null,"Peticións de Contacto")],-1),V={class:"list-group"},q=["onClick"],L={class:"col-md-6"},B={key:0},M=(0,t._)("h4",null,"Peticion",-1),R=(0,t._)("label",null,[(0,t._)("strong",null,"Nombre:")],-1),W=(0,t._)("label",null,[(0,t._)("strong",null,"Fecha:")],-1),H={key:1},K=(0,t._)("br",null,null,-1),Y={key:0},F={key:1},S=(0,t._)("p",null,"Seleccione Peticion...",-1),O=[S];function T(n,e,o,r,i,a){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",E,[(0,t._)("div",N,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enviar peticion ao usuario...","onUpdate:modelValue":e[0]||(e[0]=function(n){return i.nombreUsrPeticion=n})},null,512),[[c.nr,i.nombreUsrPeticion]]),(0,t._)("div",j,[(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(n){return a.enviarPeticion()})}," Enviar "),i.message?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,u.C_)(["alert",i.successful?"alert-success":"alert-danger"])},(0,u.zw)(i.message),3)):(0,t.kq)("",!0)])])]),(0,t._)("div",A,[z,(0,t._)("ul",V,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.peticiones,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:(0,u.C_)(["list-group-item",{active:e==i.currentIndex}]),key:e,onClick:function(o){return a.setActivePeticion(n,e)}},(0,u.zw)(n.idEmisor.nome_usuario),11,q)})),128))]),(0,t._)("div",L,[i.currentPeticion?((0,t.wg)(),(0,t.iD)("div",B,[M,(0,t._)("div",null,[R,(0,t.Uk)(" "+(0,u.zw)(i.currentPeticion.idEmisor.nome_usuario),1)]),(0,t._)("div",null,[W,(0,t.Uk)(" "+(0,u.zw)(i.currentPeticion.createdAt),1)]),(0,t._)("button",{class:"badge badge-success",onClick:e[2]||(e[2]=function(n){return a.aceptarPeticion(i.currentPeticion)})}," Aceptar "),(0,t._)("button",{class:"badge badge-danger",onClick:e[3]||(e[3]=function(n){return a.cancelarPeticion(i.currentPeticion)})}," Denegar ")])):((0,t.wg)(),(0,t.iD)("div",H,[K,i.mensajeGestionarPeticion?((0,t.wg)(),(0,t.iD)("div",Y,(0,u.zw)(i.message),1)):((0,t.wg)(),(0,t.iD)("div",F,O))]))])])])}var $={name:"peticiones-list",data:function(){return{peticiones:[],currentPeticion:null,currentIndex:-1,username:"",nombreUsrPeticion:"",message:"",successful:!1,mensajeEnviarPeticion:!1,mensajeGestionarPeticion:!1}},methods:{recuperarPeticiones:function(){var n=this;w.Z.getPeticionesPendientes().then((function(e){n.peticiones=e.data.peticiones,console.log(e.data)})).catch((function(n){console.log(n)}))},enviarPeticion:function(){var n=this,e={nombre:this.nombreUsrPeticion};w.Z.enviarPeticionContacto(e).then((function(e){n.nombreUsrPeticion="",n.message=e.data.message,n.mensajeEnviarPeticion=!0,n.successful=e.data.success,setTimeout((function(){n.message="",n.mensajeEnviarPeticion=!1,n.successful=!1}),2e3)})).catch((function(n){console.log(n)}))},aceptarPeticion:function(n){var e=this;w.Z.aceptarPeticion(n).then((function(n){console.log(n.data),e.message=n.data.message,e.mensajeEnviarPeticion=!0,setTimeout((function(){this.message="",this.mensajeEnviarPeticion=!1}),2e3),e.refreshList()})).catch((function(n){console.log(n)}))},cancelarPeticion:function(n){var e=this;w.Z.cancelarPeticion(n).then((function(n){console.log(n.data),e.message=n.data.message,e.mensajeEnviarPeticion=!0,setTimeout((function(){this.message="",this.mensajeEnviarPeticion=!1}),2e3),e.refreshList()})).catch((function(n){console.log(n)}))},refreshList:function(){this.recuperarPeticiones(),this.currentPeticion=null,this.currentIndex=-1},setActivePeticion:function(n,e){this.currentPeticion=n,this.currentIndex=e},removeAllPeticiones:function(){var n=this;w.Z.deleteAll().then((function(e){console.log(e.data),n.refreshList()})).catch((function(n){console.log(n)}))},searchNombre:function(){var n=this;w.Z.getPeticionPorNombre(this.username).then((function(e){n.peticiones=e.data.peticiones,console.log(e.data)})).catch((function(n){console.log(n)}))}},mounted:function(){this.recuperarPeticiones()}};const J=(0,U.Z)($,[["render",T]]);var Q=J,X={class:"col-md-8"},nn={class:"input-group mb-3"},en={class:"input-group-append"},on={class:"container"},tn=(0,t._)("h3",null,[(0,t._)("strong",null,"Grupos")],-1),rn={class:"modal fade",id:"nuevoGrupo",tabindex:"-1",role:"dialog","aria-labelledby":"nuevoGrupoLabel","aria-hidden":"true"},an={class:"modal-dialog",role:"document"},sn={class:"modal-content"},cn=(0,t._)("div",{class:"modal-header"},[(0,t._)("h5",{class:"modal-title",id:"nuevoGrupoLabel"},"Nuevo Grupo"),(0,t._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,t._)("span",{"aria-hidden":"true"},"×")])],-1),un={class:"modal-body"},ln={class:"form-group"},dn=(0,t._)("label",{for:"nombreGrupo",class:"col-form-label"},"Nombre:",-1),pn={class:"form-group"},mn=(0,t._)("label",{for:"message-text",class:"col-form-label"},"Visibilidad:",-1),gn=(0,t._)("br",null,null,-1),hn={class:"form-check-label col-form-label",for:"radioPrivado"},vn=(0,t.Uk)(" Privado "),fn=(0,t._)("br",null,null,-1),bn={class:"form-check-label col-form-label",for:"radioPublico"},_n=(0,t.Uk)(" Publico "),Cn=(0,t._)("div",{class:"form-group"},[(0,t._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Crear Grupo")],-1),kn={key:0,class:"form-group"},yn={class:"danger"},Gn={class:"list-group m-1"},Pn=["onClick"],Zn={class:"col-md-6"},wn={key:0},Dn=(0,t._)("h4",null,"Grupo",-1),Un=(0,t._)("label",null,[(0,t._)("strong",null,"Nombre:")],-1),In=(0,t._)("label",null,[(0,t._)("strong",null,"Integrantes:")],-1),xn=(0,t.Uk)(" Editar "),En=(0,t._)("br",null,null,-1),Nn={key:1},jn=(0,t._)("br",null,null,-1),An=(0,t._)("p",null,"Seleccione Grupo...",-1),zn=[jn,An];function Vn(n,e,o,r,i,a){var s=(0,t.up)("Field"),l=(0,t.up)("ErrorMessage"),d=(0,t.up)("Form"),p=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",X,[(0,t._)("div",nn,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Buscar por nome","onUpdate:modelValue":e[0]||(e[0]=function(n){return i.nombre=n})},null,512),[[c.nr,i.nombre]]),(0,t._)("div",en,[(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(){return a.searchNombre&&a.searchNombre.apply(a,arguments)})}," Buscar ")])])]),(0,t._)("div",on,[tn,(0,t._)("button",{onClick:e[2]||(e[2]=function(){return n.activarModal&&n.activarModal.apply(n,arguments)}),class:"btn btn-success","data-toggle":"modal","data-target":"#nuevoGrupo"}," Crear Grupo "),(0,t._)("div",rn,[(0,t._)("div",an,[(0,t._)("div",sn,[cn,(0,t._)("div",un,[(0,t.Wm)(d,{onSubmit:a.crearGrupo,"validation-schema":i.schema},{default:(0,t.w5)((function(){return[(0,t._)("div",ln,[dn,(0,t.Wm)(s,{modelValue:i.nuevoGrupo.nombre,"onUpdate:modelValue":e[3]||(e[3]=function(n){return i.nuevoGrupo.nombre=n}),type:"text",name:"nombre",class:"form-control",id:"nombreGrupo"},null,8,["modelValue"]),(0,t.Wm)(l,{name:"nombre",class:"error-feedback"})]),(0,t._)("div",pn,[mn,gn,(0,t._)("label",hn,[(0,t.Wm)(s,{modelValue:i.nuevoGrupo.visibilidad,"onUpdate:modelValue":e[4]||(e[4]=function(n){return i.nuevoGrupo.visibilidad=n}),class:"form-check-input",type:"radio",name:"visibilidad",id:"radioPrivado",value:"0",checked:""},null,8,["modelValue"]),vn]),fn,(0,t._)("label",bn,[(0,t.Wm)(s,{modelValue:i.nuevoGrupo.visibilidad,"onUpdate:modelValue":e[5]||(e[5]=function(n){return i.nuevoGrupo.visibilidad=n}),class:"form-check-input",type:"radio",name:"visibilidad",id:"radioPublico",value:"1"},null,8,["modelValue"]),_n]),(0,t.Wm)(l,{name:"visibilidad",class:"error-feedback"})]),Cn,i.mostrarError?((0,t.wg)(),(0,t.iD)("div",kn,[(0,t._)("h3",yn,(0,u.zw)(i.msgError),1)])):(0,t.kq)("",!0)]})),_:1},8,["onSubmit","validation-schema"])])])])]),(0,t._)("ul",Gn,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.grupos,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:(0,u.C_)(["list-group-item",{active:e==i.currentIndex}]),key:e,onClick:function(o){return a.setActiveGrupo(n,e)}},(0,u.zw)(n.nombre),11,Pn)})),128))]),(0,t._)("div",Zn,[i.currentGrupo?((0,t.wg)(),(0,t.iD)("div",wn,[Dn,(0,t._)("div",null,[Un,(0,t.Uk)(" "+(0,u.zw)(i.currentGrupo.nombre),1)]),(0,t._)("div",null,[In,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.currentGrupo.integrantes,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:"list-group",key:e},(0,u.zw)(n.username),1)})),128))]),i.tienePermisos?((0,t.wg)(),(0,t.j4)(p,{key:0,class:"badge badge-warning",to:"/grupos/"+i.currentGrupo._id},{default:(0,t.w5)((function(){return[xn]})),_:1},8,["to"])):(0,t.kq)("",!0),En,i.esCreador?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:e[6]||(e[6]=function(){return a.borrarGrupo&&a.borrarGrupo.apply(a,arguments)}),class:"badge badge-danger"}," BORRAR GRUPO ")):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",Nn,zn))])])])}var qn=o(4868),Ln=o(2954),Bn=o(4231),Mn={name:"grupos-list",components:{Form:Ln.l0,Field:Ln.gN,ErrorMessage:Ln.Bc},data:function(){var n=Bn.Ry().shape({nombre:Bn.Z_().required("Introduzca un nombre para el grupo"),visibilidad:Bn.Z_().required("seleccione una de las opciones")});return{mostrarError:!1,msgError:null,grupos:[],currentGrupo:null,currentIndex:-1,nombre:"",integrantes:[],tienePermisos:!1,esCreador:!1,schema:n,nuevoGrupo:{nombre:"",visibilidad:""}}},methods:{crearGrupo:function(){var n=this;qn.Z.nuevoGrupo(this.nuevoGrupo).then((function(e){console.log(e),e.status<400||e.status>=400&&(n.msgError=e.data)})).catch((function(n){console.log(n)}))},recuperarGrupos:function(){var n=this;qn.Z.getGrupos().then((function(e){n.grupos=e.data,console.log(e.data)})).catch((function(n){console.log(n)}))},refreshList:function(){this.recuperarGrupos(),this.currentGrupo=null,this.currentIndex=-1},setActiveGrupo:function(n,e){this.currentGrupo=n,this.currentIndex=e,this.integrantes=this.currentGrupo.integrantes,this.permisosGrupo()},permisosGrupo:function(){var n=this;qn.Z.permisosGrupo(this.currentGrupo._id).then((function(e){console.log(e),n.tienePermisos=e.data.esModerador,n.esCreador=e.data.esCreador})).catch((function(n){console.log(n)}))},borrarGrupo:function(){var n=this;qn.Z.borrarGrupo(this.currentGrupo).then((function(e){console.log(e),n.$router.go(0)})).catch((function(n){console.log(n)}))},removeAllGrupos:function(){var n=this;qn.Z.deleteAll().then((function(e){console.log(e.data),n.refreshList()})).catch((function(n){console.log(n)}))},searchNombre:function(){var n=this;qn.Z.getGrupoPorNombre(this.nombre).then((function(e){n.grupos=e.data.grupos,console.log(e.data)})).catch((function(n){console.log(n)}))}},mounted:function(){this.recuperarGrupos()}};const Rn=(0,U.Z)(Mn,[["render",Vn]]);var Wn=Rn,Hn={class:"col-md-8"},Kn={class:"input-group mb-3"},Yn={class:"input-group-append"},Fn={key:0,class:"container"},Sn=(0,t._)("h3",null,[(0,t._)("strong",null,"Conversaciones")],-1),On={key:0,class:"list-group"},Tn=["onClick"],$n={key:1,class:"list-group"},Jn=["onClick"],Qn={key:1};function Xn(n,e,o,r,i,a){var s=(0,t.up)("chat");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",Hn,[(0,t._)("div",Kn,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Buscar por nome","onUpdate:modelValue":e[0]||(e[0]=function(n){return i.nombre=n})},null,512),[[c.nr,i.nombre]]),(0,t._)("div",Yn,[(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(){return n.searchNombre&&n.searchNombre.apply(n,arguments)})}," Buscar ")])])]),i.enChat?((0,t.wg)(),(0,t.iD)("div",Qn,[(0,t.Wm)(s,{grupo:i.currentGrupo,usuario:i.currentContacto},null,8,["grupo","usuario"])])):((0,t.wg)(),(0,t.iD)("div",Fn,[Sn,(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[2]||(e[2]=function(){return a.seleccionarGrupos&&a.seleccionarGrupos.apply(a,arguments)})}," Grupos "),(0,t._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=function(){return a.seleccionarUsuarios&&a.seleccionarUsuarios.apply(a,arguments)})}," Usuarios "),i.verUsuarios?((0,t.wg)(),(0,t.iD)("ul",On,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.usuarios,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:(0,u.C_)(["list-group-item",{active:e==i.currentIndex}]),key:e,onClick:function(e){return a.iniciarChatUsuario(n)}},(0,u.zw)(n.username),11,Tn)})),128))])):(0,t.kq)("",!0),i.verGrupos?((0,t.wg)(),(0,t.iD)("ul",$n,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.grupos,(function(n,e){return(0,t.wg)(),(0,t.iD)("li",{class:(0,u.C_)(["list-group-item",{active:e==i.currentIndex}]),key:e,onClick:function(e){return a.iniciarChatGrupo(n)}},(0,u.zw)(n.nombre),11,Jn)})),128))])):(0,t.kq)("",!0)]))])}var ne=o(367),ee=o(3279),oe={components:{chat:ee["default"]},props:{grupo:Object,usuario:Object},name:"conversaciones-list",data:function(){return{grupos:[],currentGrupo:null,nombre:"",integrantes:[],tienePermisos:!1,usuarios:[],currentContacto:null,username:"",currentIndex:-1,verUsuarios:!1,verGrupos:!1,enChat:!1}},methods:{seleccionarGrupos:function(){this.verGrupos=!0,this.verUsuarios=!1},seleccionarUsuarios:function(){this.verGrupos=!1,this.verUsuarios=!0},recuperarGrupos:function(){var n=this;qn.Z.getGrupos().then((function(e){n.grupos=e.data,console.log(e.data)})).catch((function(n){console.log(n)}))},recuperarContactos:function(){var n=this;w.Z.getContactos().then((function(e){n.usuarios=e.data.contactos,console.log(e.data)})).catch((function(n){console.log(n)}))},iniciarChatGrupo:function(n){var e=this;console.log(n),ne.Z.iniciarChatGrupo(n).then((function(n){console.log(n);var o=n.data.chatRoom.chatRoomId;e.$router.push({path:"/chat/".concat(o)})})).catch((function(n){console.log(n)}))},iniciarChatUsuario:function(n){var e=this;console.log(n),ne.Z.iniciarChatUsuarios(n).then((function(n){console.log(n);var o=n.data.chatRoom.chatRoomId;e.$router.push({path:"/chat/".concat(o)})})).catch((function(n){console.log(n)}))}},mounted:function(){this.recuperarGrupos(),this.recuperarContactos()}};const te=(0,U.Z)(oe,[["render",Xn]]);var re=te,ie={components:{usuarioslist:x,peticioneslist:Q,gruposlist:Wn,conversacioneslist:re},data:function(){return{mostrarContactos:!0,mostrarPeticiones:!1,mostrarGrupos:!1,mostrarConversaciones:!1}},methods:{activarContactos:function(){this.mostrarContactos=!0,this.mostrarPeticiones=!1,this.mostrarGrupos=!1,this.mostrarConversaciones=!1},activarPeticiones:function(){this.mostrarContactos=!1,this.mostrarPeticiones=!0,this.mostrarGrupos=!1,this.mostrarConversaciones=!1},activarGrupos:function(){this.mostrarContactos=!1,this.mostrarPeticiones=!1,this.mostrarGrupos=!0,this.mostrarConversaciones=!1},activarConversaciones:function(){this.mostrarContactos=!1,this.mostrarPeticiones=!1,this.mostrarGrupos=!1,this.mostrarConversaciones=!0}}};const ae=(0,U.Z)(ie,[["render",s]]);var se=ae}}]);
//# sourceMappingURL=797-legacy.fbe57cc1.js.map