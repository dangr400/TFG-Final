{"version":3,"file":"js/858.aa58b47f.js","mappings":"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","sources":["webpack://front/./src/services/auth-header.js","webpack://front/./src/services/user.service.js","webpack://front/./src/views/Profile.vue","webpack://front/./src/views/Profile.vue?24e8"],"sourcesContent":["export default function authHeader() {\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n  \r\n    if (user && user.accessToken) {\r\n        // para Node.js Express back-end\r\n        return { 'x-access-token': user.accessToken };\r\n      } else {\r\n        return {};\r\n      }\r\n    }","import axios from \"../http-common\";\r\nimport authHeader from './auth-header';\r\n\r\nconst API_URL = '/usuarios/';\r\n\r\nclass UserService {\r\n  // GESTIONES CONTACTOS\r\n  getContactos() {\r\n    return axios.get(API_URL + 'contactos' , { headers: authHeader() });\r\n  }\r\n\r\n  eliminarContacto(usuario) {\r\n    return axios.delete(API_URL + 'contactos/eliminarContacto' , {headers: authHeader() , data: {usuario} });\r\n  }\r\n\r\n  getContactoPorNombre(nombre) {\r\n    return axios.get(API_URL + `contactos/${nombre}` , {headers: authHeader() });\r\n  }\r\n\r\n  // GESTIONES PETICIONES DE CONTACTO\r\n  getPeticionesEnviadas() {\r\n    return axios.get(API_URL + 'verMisPeticiones' , { headers: authHeader() });\r\n  }\r\n\r\n  getPeticionesPendientes() {\r\n    return axios.get(API_URL + 'verPeticionesPendientes' , { headers: authHeader() });\r\n  }\r\n\r\n  enviarPeticionContacto(usuario) {\r\n    return axios.post(API_URL + 'enviarPeticion', usuario, { headers: authHeader() });\r\n  }\r\n\r\n  aceptarPeticion(peticion) {\r\n    return axios.post(API_URL + 'aceptarPeticion', peticion, { headers: authHeader() });\r\n  }\r\n\r\n  cancelarPeticion(peticion) {\r\n    return axios.delete(API_URL + 'cancelarPeticion', { headers: authHeader() , data: {peticion} });\r\n  }\r\n  // REFERENTES AL USUARIO\r\n\r\n  getUsuarioPorId(idUsuario) {\r\n    return axios.get(API_URL, { headers: authHeader() , data: idUsuario}); \r\n  }\r\n\r\n  getUsuario() {\r\n    return axios.get(API_URL + 'yo', { headers: authHeader() });\r\n  }\r\n\r\n  getModeratorBoard() {\r\n    return axios.get(API_URL + 'mod', { headers: authHeader() });\r\n  }\r\n\r\n  getAdminBoard() {\r\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\r\n  }\r\n\r\n  updateUsuario(config) {\r\n    return axios.put(API_URL + 'actualizarUsuario',config , {headers: authHeader()});\r\n  }\r\n}\r\n\r\nexport default new UserService();","<template>\n  <div class=\"container\">\n    <header class=\"jumbotron\">\n      <h3>\n        Información de <strong>{{currentUser.username}}</strong> \n      </h3>\n    </header>\n    <div class=\"jumbotron\">\n      <h3>Datos da sesión</h3>\n      <p>\n      <strong>Token:</strong>\n      {{currentUser.accessToken.substring(0, 20)}} ... {{currentUser.accessToken.substr(currentUser.accessToken.length - 20)}}\n      </p>\n      <p>\n        <strong>Tempo de validez da sesión actual:</strong>\n        {{currentUser.caducidad / 3600}} horas\n      </p>\n    </div>\n    <div class=\"jumbotron\">\n      <h3>Datos do usuario</h3>\n      <p>\n        <strong>ID Usuario:</strong>\n        {{currentUser.id}}\n      </p>\n      <p>\n        <strong>Visibilidade:</strong>\n        {{currentUser.configuracion.publico}}\n      </p>\n      <p>\n        <strong>Persistenza de mensaxes:</strong>\n        {{currentUser.configuracion.persistencia_msgs}}\n      </p>\n      <button @click=\"activarModal\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#modUsuario\">\n            Modificar configuración\n      </button>\n    </div>\n  <div class=\"modal fade\" id=\"modUsuario\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modUsuarioLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"modUsuarioLabel\">Modificar datos usuario</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <Form @submit=\"modificarDatosUsuario\">\n            <div class=\"form-group\">\n              <label for=\"message-text\" class=\"col-form-label\">Visibilidad:</label>\n              <br>\n              <Field v-model=\"datosUsuario.configuracion.publico\" class=\"form-check-input\" type=\"radio\" name=\"visibilidad\" id=\"visibilidadNo\" value=\"false\" checked />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidadNo\">\n                Privado\n              </label>\n              <br>\n              <Field v-model=\"datosUsuario.configuracion.publico\" class=\"form-check-input \" type=\"radio\" name=\"visibilidad\" id=\"visibilidadSi\" value=\"true\" />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidadSi\">\n                Publico\n              </label>\n              <ErrorMessage name=\"visibilidad\" class=\"error-feedback\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"visibilidad2No\" class=\"col-form-label\">Persistenza Mensaxes:</label>\n              <br>\n\n              <Field v-model=\"datosUsuario.configuracion.persistencia_msgs\" class=\"form-check-input\" type=\"radio\" name=\"visibilidad2\" id=\"visibilidad2No\" value=\"false\" checked />\n              <label class=\"form-radio-label\" for=\"visibilidad2\">\n                NON gardar mensaxes\n              </label>\n              <br>\n\n              <Field v-model=\"datosUsuario.configuracion.persistencia_msgs\" class=\"form-check-input \" type=\"radio\" name=\"visibilidad2\" id=\"visibilidad2Si\" value=\"true\" />\n              <label class=\"form-check-label col-form-label\" for=\"visibilidad2Si\">\n                Gardar mensaxes\n              </label>\n              <ErrorMessage name=\"visibilidad2\" class=\"error-feedback\" />\n            </div>\n            <div class=\"form-group\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n              <button type=\"submit\" class=\"btn btn-success\">Modificar configuración</button>\n            </div>\n            <div v-if=\"mostrarError\" class=\"form-group\">\n              <p class=\"alert-danger\">{{msgAviso}}</p>\n            </div>\n          </Form>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport UserService from \"../services/user.service\";\n\nexport default {\n  name: 'Profile',\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  methods: {\n\n    modificarDatosUsuario() {\n      UserService.updateUsuario(this.datosUsuario)\n        .then(response =>{\n          if (response.status < 400) {\n            this.msgAviso = \"ATENCION: Para aplicar os cambios, reinicie sesión\";\n            this.mostrarError = true;\n\n          } else if (response.status >= 400){\n            this.msgAviso = \"Ok\";\n            this.mostrarError = true;\n          }\n          \n        })\n        .catch(e => {\n          this.msgAviso = \"Algo foi mal no servidor...\" + e;\n          this.mostrarError = true;\n        });\n        setTimeout(this.ocultaMensaxe,3000);\n    },\n\n    ocultaMensaxe() {\n      this.msgAviso = null;\n      this.mostrarError = false;\n    },\n  },\n\n  data() {\n    return {\n      mostrarError: false,\n      msgAviso: null,\n      grupos: [],\n      currentUsuario: null,\n      currentIndex: -1,\n      nombre: \"\",\n      integrantes: [],\n      tienePermisos: false,\n      esCreador: false,\n      datosUsuario: {\n        id: this.$store.state.auth.user.id,\n        configuracion: {\n          publico: false,\n          persistencia_msgs: false\n        },\n      },\n    };\n  },\n\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n  }\n};\n</script>\n<style scoped>\n  .btn {\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=ebb7bc84&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=ebb7bc84&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dani_\\\\Desktop\\\\TFG-040822\\\\Proxecto\\\\Software\\\\V1.0.1\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ebb7bc84\"]])\n\nexport default __exports__"],"names":["authHeader","user","JSON","parse","localStorage","getItem","accessToken","API_URL","UserService","getContactos","axios","headers","eliminarContacto","usuario","data","getContactoPorNombre","nombre","getPeticionesEnviadas","getPeticionesPendientes","enviarPeticionContacto","aceptarPeticion","peticion","cancelarPeticion","getUsuarioPorId","idUsuario","getUsuario","getModeratorBoard","getAdminBoard","updateUsuario","config","class","_createElementVNode","id","tabindex","role","type","for","_createElementBlock","_toDisplayString","$options","username","_hoisted_5","_hoisted_6","substring","substr","length","_hoisted_7","caducidad","_hoisted_9","_hoisted_10","_hoisted_11","configuracion","publico","_hoisted_12","persistencia_msgs","onClick","_ctx","_hoisted_16","_createVNode","_component_Form","onSubmit","_hoisted_19","_hoisted_20","_component_Field","$data","$event","name","value","checked","_hoisted_21","_hoisted_22","_hoisted_23","_component_ErrorMessage","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","components","Form","Field","ErrorMessage","computed","currentUser","this","$store","state","auth","methods","modificarDatosUsuario","datosUsuario","then","response","status","msgAviso","mostrarError","catch","e","setTimeout","ocultaMensaxe","grupos","currentUsuario","currentIndex","integrantes","tienePermisos","esCreador","mounted","$router","push","__exports__","render"],"sourceRoot":""}