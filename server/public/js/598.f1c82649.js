"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[598],{8:function(e,t,o){function a(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}o.d(t,{Z:function(){return a}})},4868:function(e,t,o){var a=o(3390),s=o(8);const r="/api/grupos/";class n{getPublicContent(){return a.Z.get(r+"gruposPublicos")}getGrupoPorId(e){return a.Z.get(r+e,{headers:(0,s.Z)()})}getGrupos(){return a.Z.get(r+"gruposPertenecientes",{headers:(0,s.Z)()})}permisosGrupo(e){return a.Z.get(r+"permisosGrupo/"+e,{headers:(0,s.Z)()})}nuevoGrupo(e){return a.Z.post(r+"nuevoGrupo",e,{headers:(0,s.Z)()})}"añadirModeradores"(e,t){return a.Z.put(r+e+"/addModeradores",t,{headers:(0,s.Z)()})}"añadirIntegrantes"(e,t){return a.Z.put(r+e+"/addIntegrantes",t,{headers:(0,s.Z)()})}borrarGrupo(e){return a.Z["delete"](r+"borrarGrupo",{headers:(0,s.Z)(),data:e})}}t["Z"]=new n},7270:function(e,t,o){var a=o(3390),s=o(8);const r="/usuarios/";class n{getContactos(){return a.Z.get(r+"contactos",{headers:(0,s.Z)()})}eliminarContacto(e){return a.Z["delete"](r+"contactos/eliminarContacto",{headers:(0,s.Z)(),data:{usuario:e}})}getContactoPorNombre(e){return a.Z.get(r+`contactos/${e}`,{headers:(0,s.Z)()})}getPeticionesEnviadas(){return a.Z.get(r+"verMisPeticiones",{headers:(0,s.Z)()})}getPeticionesPendientes(){return a.Z.get(r+"verPeticionesPendientes",{headers:(0,s.Z)()})}enviarPeticionContacto(e){return a.Z.post(r+"enviarPeticion",e,{headers:(0,s.Z)()})}aceptarPeticion(e){return a.Z.post(r+"aceptarPeticion",e,{headers:(0,s.Z)()})}cancelarPeticion(e){return a.Z["delete"](r+"cancelarPeticion",{headers:(0,s.Z)(),data:{peticion:e}})}getUsuarioPorId(e){return a.Z.get(r,{headers:(0,s.Z)(),data:e})}getUsuario(){return a.Z.get(r+"yo",{headers:(0,s.Z)()})}getModeratorBoard(){return a.Z.get(r+"mod",{headers:(0,s.Z)()})}getAdminBoard(){return a.Z.get(r+"admin",{headers:(0,s.Z)()})}}t["Z"]=new n},1598:function(e,t,o){o.r(t),o.d(t,{default:function(){return J}});var a=o(6252),s=o(3577),r=o(9963);const n={class:"container"},l={class:"jumbotron"},d={class:"container"},i={class:"jumbotron"},u=(0,a._)("h3",null,[(0,a._)("strong",null,"Creador")],-1),c={class:"jumbotron"},g=(0,a._)("h3",null,[(0,a._)("strong",null,"Moderadores")],-1),m=(0,a._)("span",null,[(0,a._)("button",{class:"btn btn-success","data-toggle":"modal","data-target":"#nuevosModeradores"}," Añadir Moderadores ")],-1),p={class:"list-group"},b=["onClick"],_={class:"jumbotron"},h=(0,a._)("h3",null,[(0,a._)("strong",null,"Integrantes")],-1),v=(0,a._)("span",null,[(0,a._)("button",{class:"btn btn-success","data-toggle":"modal","data-target":"#nuevosIntegrantes"}," Añadir Usuarios ")],-1),Z={class:"list-group"},C=["onClick"],f={class:"modal fade",id:"nuevosModeradores",tabindex:"-1",role:"dialog","aria-labelledby":"nuevosModeradoresLabel","aria-hidden":"true"},w={class:"modal-dialog",role:"document"},M={class:"modal-content"},I=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"nuevosModeradoresLabel"},"Agregar Moderadores"),(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")])],-1),y={class:"modal-body"},P={class:"form-group"},k=["value"],U=(0,a._)("br",null,null,-1),G=(0,a._)("label",{class:"form-label select-label"},"Seleccione usuarios",-1),x=(0,a._)("div",{class:"form-group"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Añadir Usuarios")],-1),D={class:"modal fade",id:"nuevosIntegrantes",tabindex:"-1",role:"dialog","aria-labelledby":"nuevosIntegrantesLabel","aria-hidden":"true"},A={class:"modal-dialog",role:"document"},z={class:"modal-content"},S=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"nuevosIntegrantesLabel"},"Añadir integrantes"),(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")])],-1),$={class:"modal-body"},j={class:"form-group"},H=["value"],K=(0,a._)("br",null,null,-1),L=(0,a._)("label",{class:"form-label select-label"},"Seleccione usuarios",-1),N=(0,a._)("div",{class:"form-group"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Añadir Usuarios")],-1);function W(e,t,o,W,Y,B){const E=(0,a.up)("ErrorMessage"),F=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("header",l,[(0,a._)("h3",null,[(0,a._)("strong",null,"Detalles del grupo "+(0,s.zw)(this.$route.params.id),1)])]),(0,a._)("div",d,[(0,a._)("header",i,[u,(0,a._)("h4",null,[(0,a._)("p",null,(0,s.zw)(Y.creador),1)])]),(0,a._)("header",c,[g,m,(0,a._)("ul",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.moderadores,((t,o)=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["list-group-item",{active:o==Y.currentIndex}]),key:o,onClick:a=>e.setActiveModerador(t,o)},(0,s.zw)(t.nome_usuario),11,b)))),128))])]),(0,a._)("header",_,[h,v,(0,a._)("ul",Z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.integrantes,((t,o)=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["list-group-item",{active:o==Y.currentIndex}]),key:o,onClick:t=>e.setActiveIntegrante(e.moderador,o)},(0,s.zw)(t.nome_usuario),11,C)))),128))])])]),(0,a._)("div",f,[(0,a._)("div",w,[(0,a._)("div",M,[I,(0,a._)("div",y,[(0,a.Wm)(F,{onSubmit:B.addModeradores},{default:(0,a.w5)((()=>[(0,a._)("div",P,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>Y.listaMods=e),class:"select",multiple:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.integrantes,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{class:(0,s.C_)(["list-group-item",{active:t==Y.indexUsuarios}]),key:t,value:e._id},(0,s.zw)(e.nome_usuario),11,k)))),128))],512),[[r.bM,Y.listaMods]]),U,G,(0,a._)("p",null,(0,s.zw)(Y.listaMods),1),(0,a.Wm)(E,{name:"visibilidad",class:"error-feedback"})]),x])),_:1},8,["onSubmit"])])])])]),(0,a._)("div",D,[(0,a._)("div",A,[(0,a._)("div",z,[S,(0,a._)("div",$,[(0,a.Wm)(F,{onSubmit:B.addIntegrantes},{default:(0,a.w5)((()=>[(0,a._)("div",j,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Y.nuevosIntegrantes=e),class:"select",multiple:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.contactosUsr,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{class:(0,s.C_)(["list-group-item",{active:t==Y.indexContactos}]),key:t,value:e._id},(0,s.zw)(e.nome_usuario),11,H)))),128))],512),[[r.bM,Y.nuevosIntegrantes]]),K,L,(0,a._)("p",null,(0,s.zw)(Y.nuevosIntegrantes),1),(0,a.Wm)(E,{name:"visibilidad",class:"error-feedback"})]),N])),_:1},8,["onSubmit"])])])])])])}var Y=o(2954),B=o(4868),E=o(7270),F={components:{Form:Y.l0,ErrorMessage:Y.Bc},data(){return{grupo:null,integrantes:[],moderadores:[],creador:null,username:null,contactos:null,currentIndex:-1,indexUsuarios:-1,verNuevoModerador:!1,verNuevoIntegrante:!1,listaMods:[],options:[],contactosUsr:[],indexContactos:-1,nuevosIntegrantes:[]}},methods:{getContactosUsr(){E.Z.getContactos().then((e=>{console.log("Contactos:"),console.log(e),this.contactosUsr=e.data.contactos})).catch((e=>{console.log(e)}))},getGrupo(){const e=this.$route.params.id;console.log(e),B.Z.getGrupoPorId(e).then((e=>{console.log(e),this.grupo=e.data.grupo,this.integrantes=e.data.grupo.integrantes,this.moderadores=e.data.grupo.moderadores,this.creador=e.data.grupo.creador.nome_usuario,this.username=e.data.grupo.nome_usuario})).catch((e=>{console.log(e)}))},addModeradores(){B.Z["añadirModeradores"](this.grupo._id,this.listaMods).then((e=>{console.log(e),this.$router.go(0)})).catch((e=>{console.log(e)}))},addIntegrantes(){B.Z["añadirIntegrantes"](this.grupo._id,this.nuevosIntegrantes).then((e=>{console.log(e),this.$router.go(0)})).catch((e=>{console.log(e)}))}},mounted(){this.getGrupo(),this.getContactosUsr()}},T=o(3744);const V=(0,T.Z)(F,[["render",W]]);var J=V}}]);
//# sourceMappingURL=598.f1c82649.js.map